@import "shadcn.css";
@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

/* ==========================================================================
   Undrew Design System - Tailwind CSS v4 Theme
   Ported from: https://github.com/GangWooLee/Undrew-design
   ========================================================================== */

@theme {
  /* Typography */
  --font-sans: 'IBM Plex Serif', serif;
  --font-serif: 'IBM Plex Serif', serif;

  /* Base Colors - undrew-design 기준 */
  --color-background: #ffffff;
  --color-foreground: oklch(0.145 0 0);
  --color-card: #ffffff;
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);

  /* Primary - 거의 검정 (#030213) */
  --color-primary: #030213;
  --color-primary-foreground: oklch(1 0 0);

  /* Secondary - 밝은 보라빛 회색 */
  --color-secondary: oklch(0.95 0.0058 264.53);
  --color-secondary-foreground: #030213;

  /* Muted - 밝은 회색 */
  --color-muted: #ececf0;
  --color-muted-foreground: #717182;

  /* Accent - 밝은 회색 */
  --color-accent: #e9ebef;
  --color-accent-foreground: #030213;

  /* Destructive - 선명한 빨강 */
  --color-destructive: #d4183d;
  --color-destructive-foreground: #ffffff;

  /* Border & Input */
  --color-border: rgba(0, 0, 0, 0.1);
  --color-input: transparent;
  --color-input-background: #f3f3f5;
  --color-switch-background: #cbced4;
  --color-ring: oklch(0.708 0 0);

  /* Chart Colors */
  --color-chart-1: oklch(0.646 0.222 41.116);
  --color-chart-2: oklch(0.6 0.118 184.704);
  --color-chart-3: oklch(0.398 0.07 227.392);
  --color-chart-4: oklch(0.828 0.189 84.429);
  --color-chart-5: oklch(0.769 0.188 70.08);

  /* Sidebar */
  --color-sidebar: oklch(0.985 0 0);
  --color-sidebar-foreground: oklch(0.145 0 0);
  --color-sidebar-primary: #030213;
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.97 0 0);
  --color-sidebar-accent-foreground: oklch(0.205 0 0);
  --color-sidebar-border: oklch(0.922 0 0);
  --color-sidebar-ring: oklch(0.708 0 0);

  /* Radius - undrew-design: 0.625rem (10px) */
  --radius: 0.625rem;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

/* Dark Mode */
.dark {
  --color-background: oklch(0.145 0 0);
  --color-foreground: oklch(0.985 0 0);
  --color-card: oklch(0.145 0 0);
  --color-card-foreground: oklch(0.985 0 0);
  --color-popover: oklch(0.145 0 0);
  --color-popover-foreground: oklch(0.985 0 0);
  --color-primary: oklch(0.985 0 0);
  --color-primary-foreground: oklch(0.205 0 0);
  --color-secondary: oklch(0.269 0 0);
  --color-secondary-foreground: oklch(0.985 0 0);
  --color-muted: oklch(0.269 0 0);
  --color-muted-foreground: oklch(0.708 0 0);
  --color-accent: oklch(0.269 0 0);
  --color-accent-foreground: oklch(0.985 0 0);
  --color-destructive: oklch(0.396 0.141 25.723);
  --color-destructive-foreground: oklch(0.637 0.237 25.331);
  --color-border: oklch(0.269 0 0);
  --color-input: oklch(0.269 0 0);
  --color-input-background: oklch(0.2 0 0);
  --color-switch-background: oklch(0.4 0 0);
  --color-ring: oklch(0.439 0 0);
  --color-chart-1: oklch(0.488 0.243 264.376);
  --color-chart-2: oklch(0.696 0.17 162.48);
  --color-chart-3: oklch(0.769 0.188 70.08);
  --color-chart-4: oklch(0.627 0.265 303.9);
  --color-chart-5: oklch(0.645 0.246 16.439);
  --color-sidebar: oklch(0.205 0 0);
  --color-sidebar-foreground: oklch(0.985 0 0);
  --color-sidebar-primary: oklch(0.488 0.243 264.376);
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.269 0 0);
  --color-sidebar-accent-foreground: oklch(0.985 0 0);
  --color-sidebar-border: oklch(0.269 0 0);
  --color-sidebar-ring: oklch(0.439 0 0);
}

@layer base {
  * {
    border-color: var(--color-border);
    outline-color: color-mix(in oklch, var(--color-ring) 50%, transparent);
  }
  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
  }
}

/* Toast animations */
@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
  }
}

.animate-toast-in {
  animation: toast-in 0.3s ease-out forwards;
}

.animate-toast-out {
  animation: toast-out 0.3s ease-in forwards;
}

/* Modal animations */
@keyframes modal-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-modal-in {
  animation: modal-in 0.2s ease-out forwards;
}

/* AI 분석 결과 애니메이션 */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.5s ease-out forwards;
}

/* 그라데이션 스피너 애니메이션 */
@keyframes spinner-gradient-rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes spinner-pulse {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.05);
  }
}

@keyframes spinner-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
  }
  50% {
    box-shadow: 0 0 40px rgba(139, 92, 246, 0.5);
  }
}

.animate-spinner-gradient {
  animation: spinner-gradient-rotate 1.5s linear infinite;
}

.animate-spinner-pulse {
  animation: spinner-pulse 2s ease-in-out infinite;
}

.animate-spinner-glow {
  animation: spinner-glow 2s ease-in-out infinite;
}

/* ==========================================================================
   Undrew Design - Card & UI Animations
   ========================================================================== */

/* Card Lift Animation (hover effect) */
@keyframes card-lift {
  from { transform: translateY(0) scale(1); }
  to { transform: translateY(-8px) scale(1.02); }
}

.animate-card-lift {
  transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
}

.animate-card-lift:hover {
  transform: translateY(-8px) scale(1.02);
}

/* Score Count Animation */
@keyframes count-up {
  from {
    opacity: 0;
    transform: scale(0.5);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-count-up {
  animation: count-up 0.6s ease-out forwards;
}

/* Stagger Fade In (for sequential card animations) */
@keyframes stagger-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-stagger-1 { animation: stagger-fade-in 0.5s ease-out 0.1s forwards; opacity: 0; }
.animate-stagger-2 { animation: stagger-fade-in 0.5s ease-out 0.2s forwards; opacity: 0; }
.animate-stagger-3 { animation: stagger-fade-in 0.5s ease-out 0.3s forwards; opacity: 0; }
.animate-stagger-4 { animation: stagger-fade-in 0.5s ease-out 0.4s forwards; opacity: 0; }

/* Slide Up (for modal/overlay) */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/* Score Circle Animation */
@keyframes score-circle-draw {
  from {
    stroke-dasharray: 0 534;
  }
}

.animate-score-circle {
  animation: score-circle-draw 1.5s ease-out forwards;
}

/* Glow Pulse (for badges) */
@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
  }
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ==========================================================================
   iOS Safe Area Support - 모바일 notch/home indicator 대응
   ========================================================================== */

/* Safe area padding utilities */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

.pt-safe {
  padding-top: env(safe-area-inset-top);
}

.pl-safe {
  padding-left: env(safe-area-inset-left);
}

.pr-safe {
  padding-right: env(safe-area-inset-right);
}

.p-safe {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/* Touch optimization */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* ==========================================================================
   Micro-interactions - 섬세한 hover/active 상태
   ========================================================================== */

/* Button hover effects - 세련된 scale + shadow */
.btn-hover {
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-hover:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
}

/* Link hover - 부드러운 underline 애니메이션 */
.link-hover {
  position: relative;
  transition: color 0.2s ease;
}

.link-hover::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background-color: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.link-hover:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Card hover - 깊이감 + 배경 변화 */
.card-hover {
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              background-color 0.2s ease;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.card-hover:active {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Icon spin animation - 로딩, 새로고침 등 */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

/* Pulse glow - 알림, 새 콘텐츠 등 */
@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 0 0 currentColor;
  }
  50% {
    opacity: 0.8;
    box-shadow: 0 0 0 4px currentColor;
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Shake animation - 에러, 거부 등 */
@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-4px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(4px);
  }
}

.animate-shake {
  animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

/* Bounce in - 모달, 드롭다운 등 */
@keyframes bounce-in {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-bounce-in {
  animation: bounce-in 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ==========================================================================
   Landing Page Animations - Onboarding Redesign
   ========================================================================== */

/* Fade + Slide Up - for hero text elements */
@keyframes fade-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-slide-up {
  animation: fade-slide-up 0.6s ease-out forwards;
}

/* Fade + Slide Right - for AI Studio mockup */
/* Reference: initial={{ x: 20 }} → animate={{ x: 0 }} */
@keyframes fade-slide-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-slide-right {
  animation: fade-slide-right 0.6s ease-out forwards;
}

/* Scale In - for macOS browser frame */
@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scale-in {
  animation: scale-in 0.6s ease-out forwards;
}

/* Animation Delays - for staggered entrance */
.animate-delay-100 { animation-delay: 0.1s; opacity: 0; }
.animate-delay-200 { animation-delay: 0.2s; opacity: 0; }
.animate-delay-300 { animation-delay: 0.3s; opacity: 0; }
.animate-delay-400 { animation-delay: 0.4s; opacity: 0; }
.animate-delay-500 { animation-delay: 0.5s; opacity: 0; }

/* ==========================================================================
   Scroll-Triggered Animations (whileInView equivalent)
   Reference: Framer Motion viewport={{ once: true }}
   ========================================================================== */

/* Section Header - y: 30px start, 0.6s duration */
@keyframes scroll-fade-up-30 {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-on-scroll {
  opacity: 0;
  transform: translateY(30px);
}

.animate-on-scroll.is-visible {
  animation: scroll-fade-up-30 0.6s ease-out forwards;
}

/* Cards - y: 20px start, 0.5s duration */
.animate-on-scroll-card {
  opacity: 0;
  transform: translateY(20px);
}

.animate-on-scroll-card.is-visible {
  animation: fade-slide-up 0.5s ease-out forwards;
}

/* Landing page color utilities */
.landing-bg { background-color: #E8E3DC; }
.landing-text-primary { color: #2C4A6B; }
.landing-text-muted { color: rgba(44, 74, 107, 0.6); }
.landing-text-light { color: rgba(44, 74, 107, 0.4); }
.landing-btn-primary {
  background-color: #1E3A5F;
  color: white;
}
.landing-btn-primary:hover {
  background-color: #152B47;
}
.landing-btn-primary:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}
.landing-border { border-color: rgba(44, 74, 107, 0.1); }
.landing-border-hover:hover { border-color: rgba(44, 74, 107, 0.2); }

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .btn-hover,
  .link-hover,
  .card-hover,
  .animate-spin-slow,
  .animate-pulse-glow,
  .animate-shake,
  .animate-bounce-in {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }

  .btn-hover:hover,
  .btn-hover:active,
  .card-hover:hover,
  .card-hover:active {
    transform: none;
  }
}
