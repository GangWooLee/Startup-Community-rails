<%# shadcn Avatar 컴포넌트 %>
<%# locals: src (이미지 URL), alt (대체 텍스트), fallback (이니셜), size (sm/md/lg/xl) %>
<%
  size ||= :md
  fallback ||= "?"

  size_classes = case size.to_sym
  when :xs
    "h-6 w-6 text-xs"
  when :sm
    "h-8 w-8 text-sm"
  when :md
    "h-10 w-10 text-base"
  when :lg
    "h-12 w-12 text-lg"
  when :xl
    "h-16 w-16 text-xl"
  when :xxl
    "h-20 w-20 text-2xl"
  else
    "h-10 w-10 text-base"
  end
%>

<div class="relative inline-flex shrink-0 overflow-hidden rounded-full <%= size_classes %> <%= local_assigns[:class] %>">
  <% if local_assigns[:src].present? %>
    <%= image_tag src, alt: alt || "", class: "aspect-square h-full w-full object-cover" %>
  <% else %>
    <div class="flex h-full w-full items-center justify-center bg-muted text-muted-foreground font-medium">
      <%= fallback.to_s.first.upcase %>
    </div>
  <% end %>
</div>
