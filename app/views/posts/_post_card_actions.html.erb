<%# Post Card - 액션 버튼 %>
<%# locals: post, compact %>

<% compact ||= false %>

<div class="flex items-center gap-<%= compact ? '3' : '4' %> pt-3 border-t border-border <%= compact ? 'mt-3' : '' %>">
  <%# 좋아요 버튼 %>
  <%= render partial: "shared/like_button", locals: {
    post: post,
    liked: defined?(current_user) && current_user ? post.liked_by?(current_user) : false,
    size: "sm"
  } %>

  <%# 댓글 링크 %>
  <%= link_to post_path(post),
      class: "inline-flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground btn-hover" do %>
    <%= render partial: "shared/icons/message_square", locals: { css_class: "h-4 w-4" } %>
    <span><%= post.comments_count %></span>
  <% end %>

  <%# 공유 버튼 %>
  <%= render partial: "shared/share_button", locals: {
    url: post_url(post),
    title: post.title,
    description: post.content.truncate(80),
    size: "sm"
  } %>

  <%# 북마크 버튼 %>
  <div class="ml-auto">
    <%= render partial: "shared/bookmark_button", locals: {
      post: post,
      bookmarked: defined?(current_user) && current_user ? post.bookmarked_by?(current_user) : false,
      size: "sm"
    } %>
  </div>
</div>
