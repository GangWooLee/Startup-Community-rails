<%#
  Creator's Canvas - Community Settings Panel
  우측 30% 설정 영역 (커뮤니티 글용)

  포함 항목:
  - 사진 첨부 (최대 5장)
  - 카테고리 선택 (자유/질문/홍보)
%>

<div class="p-5 sm:p-6 space-y-6">

  <%# Section Header %>
  <h3 class="text-xs font-semibold text-stone-500 uppercase tracking-wider">
    설정
  </h3>

  <%# ===== Image Upload ===== %>
  <div data-controller="image-upload" class="space-y-3">
    <label class="text-sm font-medium text-stone-700">사진 첨부</label>

    <%# Preview Grid %>
    <div data-image-upload-target="preview"
         class="grid grid-cols-3 gap-2 empty:hidden">
    </div>

    <%# Upload Zone %>
    <label data-image-upload-target="dropzone"
           class="
             flex flex-col items-center justify-center
             p-5 sm:p-6
             border-2 border-dashed border-stone-200
             rounded-xl bg-stone-50
             cursor-pointer
             hover:border-orange-300 hover:bg-orange-50/50
             transition-colors duration-200
           ">
      <svg class="w-7 h-7 sm:w-8 sm:h-8 text-stone-300 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
              d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
      </svg>
      <span class="text-xs sm:text-sm text-stone-400 text-center">
        클릭 또는 Ctrl+V로 사진 추가<br>
        <span class="text-stone-300">(최대 5장, 10MB)</span>
      </span>
      <input type="file"
             name="post[images][]"
             form="canvas-form"
             multiple
             accept="image/*"
             class="hidden"
             data-image-upload-target="input"
             data-action="change->image-upload#handleFiles">
    </label>

    <%# Counter %>
    <span class="text-xs text-stone-400" data-image-upload-target="counter">0/5</span>
  </div>

  <%# ===== Category Selection ===== %>
  <div class="space-y-3">
    <label class="text-sm font-medium text-stone-700">카테고리 <span class="text-orange-500">*</span></label>

    <div class="flex flex-wrap gap-2">
      <%# 자유 %>
      <label class="cursor-pointer">
        <input type="radio"
               name="post[category]"
               value="free"
               form="canvas-form"
               class="peer sr-only"
               data-action="change->canvas-modal#updateCategory"
               checked>
        <span class="
          inline-block px-3 py-1.5 rounded-full text-sm border
          transition-colors duration-200
          peer-checked:border-orange-300 peer-checked:bg-orange-50 peer-checked:text-orange-700
          border-stone-200 text-stone-500
          hover:border-stone-300
        ">
          자유
        </span>
      </label>

      <%# 질문 %>
      <label class="cursor-pointer">
        <input type="radio"
               name="post[category]"
               value="question"
               form="canvas-form"
               class="peer sr-only"
               data-action="change->canvas-modal#updateCategory">
        <span class="
          inline-block px-3 py-1.5 rounded-full text-sm border
          transition-colors duration-200
          peer-checked:border-orange-300 peer-checked:bg-orange-50 peer-checked:text-orange-700
          border-stone-200 text-stone-500
          hover:border-stone-300
        ">
          질문
        </span>
      </label>

      <%# 홍보 %>
      <label class="cursor-pointer">
        <input type="radio"
               name="post[category]"
               value="promotion"
               form="canvas-form"
               class="peer sr-only"
               data-action="change->canvas-modal#updateCategory">
        <span class="
          inline-block px-3 py-1.5 rounded-full text-sm border
          transition-colors duration-200
          peer-checked:border-orange-300 peer-checked:bg-orange-50 peer-checked:text-orange-700
          border-stone-200 text-stone-500
          hover:border-stone-300
        ">
          홍보
        </span>
      </label>
    </div>
  </div>

  <%# ===== Tips ===== %>
  <div class="pt-4 border-t border-stone-100">
    <p class="text-xs text-stone-400 leading-relaxed">
      💡 <strong>팁:</strong> 제목과 본문을 입력하면 등록 버튼이 활성화됩니다.
    </p>
  </div>

</div>
