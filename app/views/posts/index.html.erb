<% content_for :head do %>
  <meta name="turbo-cache-control" content="no-cache">
<% end %>

<div class="min-h-screen bg-background pb-20">
  <!-- Header -->
  <header class="sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-40">
    <div class="max-w-screen-xl mx-auto px-4 py-4">
      <h1 class="text-2xl font-bold text-balance">Grounded</h1>
      <p class="text-sm text-muted-foreground">창업자들의 커뮤니티</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-screen-xl mx-auto px-4 py-6">
    <% if @posts.empty? %>
      <div class="text-center py-12">
        <svg class="h-12 w-12 mx-auto text-muted-foreground mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
        </svg>
        <p class="text-muted-foreground">아직 게시글이 없습니다</p>
        <p class="text-sm text-muted-foreground mt-1">첫 번째 글을 작성해보세요!</p>
      </div>
    <% else %>
      <div class="space-y-4">
        <% @posts.each do |post| %>
          <%= render partial: "posts/community_post_card", locals: { post: post } %>
        <% end %>
      </div>
    <% end %>
  </main>

  <%= render "shared/bottom_nav" %>
</div>
