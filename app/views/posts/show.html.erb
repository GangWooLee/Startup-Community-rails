<% content_for :head do %>
  <meta name="turbo-cache-control" content="no-cache">
<% end %>

<% content_for :og_meta do %>
  <%= post_og_meta_tags(@post) %>
<% end %>

<% content_for :structured_data do %>
  <%= article_json_ld(@post) %>
  <%= breadcrumb_json_ld([
    { name: "홈", url: root_path },
    { name: @post.outsourcing? ? "외주" : "커뮤니티", url: @post.outsourcing? ? job_posts_path : community_path },
    { name: @post.title.truncate(30), url: post_path(@post) }
  ]) %>
<% end %>

<%#
  Post Detail Page
  - Outsourcing posts: "Portfolio Magazine" style (Bento Grid + Split Layout)
  - Community posts: Standard layout
%>

<% if @post.outsourcing? %>
  <%# ===== OUTSOURCING POST: Portfolio Magazine Style ===== %>
  <%= render partial: "posts/show_outsourcing", locals: { post: @post, comments: @comments, similar_posts: @similar_posts } %>
<% else %>
  <%# ===== COMMUNITY POST: Standard Style ===== %>
  <%= render partial: "posts/show_community", locals: { post: @post, comments: @comments } %>
<% end %>
