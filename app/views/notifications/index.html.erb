<%# 알림 목록 페이지 - Organic Modern Style %>
<% content_for(:title) { "알림 - Undrew" } %>

<div class="min-h-screen pb-20 relative overflow-hidden"
     style="background-color: #FDFBF7;">
  <%# Organic Background Elements %>
  <div class="fixed inset-0 pointer-events-none overflow-hidden">
    <%# Gradient Blobs %>
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-orange-200/20 rounded-full blur-3xl"></div>
    <div class="absolute top-1/3 -left-20 w-64 h-64 bg-amber-100/30 rounded-full blur-3xl"></div>
    <div class="absolute bottom-20 right-10 w-48 h-48 bg-stone-200/20 rounded-full blur-3xl"></div>
    <%# Subtle Noise Texture %>
    <div class="absolute inset-0 opacity-[0.015]"
         style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%224%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22/%3E%3C/svg%3E');"></div>
  </div>

  <%# 헤더 %>
  <header class="sticky top-0 z-10 bg-[#FDFBF7]/90 backdrop-blur-xl border-b border-stone-200/50">
    <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <%= render_button variant: :ghost, class: "h-9 w-9 p-0 -ml-2 text-stone-600 hover:text-stone-800 hover:bg-stone-100/50", data: { controller: "navigation", navigation_fallback_value: root_path, action: "click->navigation#goBack" } do %>
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        <% end %>
        <h1 class="text-lg font-semibold text-stone-800">알림</h1>
      </div>

      <% if @notifications.any? %>
        <%= button_to mark_all_read_notifications_path, method: :post,
            class: "text-sm text-orange-500 hover:text-orange-600 font-medium transition-colors",
            data: { turbo_method: :post } do %>
          모두 읽음
        <% end %>
      <% end %>
    </div>
  </header>

  <%# 알림 목록 %>
  <main class="relative max-w-2xl mx-auto px-4 py-4">
    <% if @notifications.any? %>
      <div id="notifications-list" class="space-y-2">
        <% @notifications.each do |notification| %>
          <%= render "notifications/notification", notification: notification %>
        <% end %>
      </div>
    <% else %>
      <%# 빈 상태 %>
      <div class="flex flex-col items-center justify-center py-20 px-4 text-center">
        <div class="w-16 h-16 rounded-full bg-stone-100 flex items-center justify-center mb-4
                    ring-4 ring-stone-50">
          <svg class="h-8 w-8 text-stone-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
          </svg>
        </div>
        <p class="text-stone-800 font-medium mb-1">알림이 없습니다</p>
        <p class="text-sm text-stone-500">
          새로운 댓글, 좋아요가 있으면 여기에 표시됩니다.
        </p>
      </div>
    <% end %>
  </main>
</div>
