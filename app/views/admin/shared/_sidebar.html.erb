<%# 관리자 사이드바 네비게이션 %>
<aside class="fixed left-0 top-0 h-full bg-gray-900 text-white flex flex-col" style="width: var(--admin-sidebar-width);">
  <!-- Logo -->
  <div class="p-4 border-b border-gray-700">
    <div class="flex items-center gap-2">
      <div class="w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center">
        <%= icon "shield-check", variant: :outline, class: "w-5 h-5 text-white" %>
      </div>
      <span class="font-bold text-lg">Admin</span>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 p-4 space-y-1">
    <%= link_to admin_root_path,
                class: "flex items-center gap-3 px-3 py-2 rounded-lg #{request.path == admin_root_path ? 'bg-gray-700 text-white' : 'text-gray-300 btn-hover'}" do %>
      <%= icon "home", variant: :outline, class: "w-5 h-5" %>
      <span>대시보드</span>
    <% end %>

    <%= link_to admin_users_path,
                class: "flex items-center gap-3 px-3 py-2 rounded-lg #{controller_name == 'users' ? 'bg-gray-700 text-white' : 'text-gray-300 btn-hover'}" do %>
      <%= icon "users", variant: :outline, class: "w-5 h-5" %>
      <span>회원 관리</span>
    <% end %>

    <div class="pt-4 mt-4 border-t border-gray-700">
      <p class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        모니터링
      </p>

      <%= link_to admin_reports_path,
                  class: "flex items-center gap-3 px-3 py-2 rounded-lg #{controller_name == 'reports' ? 'bg-gray-700 text-white' : 'text-gray-300 btn-hover'}" do %>
        <%= icon "flag", variant: :outline, class: "w-5 h-5" %>
        <span>신고 관리</span>
        <% pending_reports = Report.pending.count rescue 0 %>
        <% if pending_reports > 0 %>
          <span class="ml-auto px-2 py-0.5 text-xs font-medium bg-red-600 text-white rounded-full"><%= pending_reports %></span>
        <% end %>
      <% end %>

      <%= link_to admin_inquiries_path,
                  class: "flex items-center gap-3 px-3 py-2 rounded-lg #{controller_name == 'inquiries' ? 'bg-gray-700 text-white' : 'text-gray-300 btn-hover'}" do %>
        <%= icon "chat-bubble-left-right", variant: :outline, class: "w-5 h-5" %>
        <span>문의 관리</span>
        <% pending_inquiries = Inquiry.pending.count rescue 0 %>
        <% if pending_inquiries > 0 %>
          <span class="ml-auto px-2 py-0.5 text-xs font-medium bg-yellow-600 text-white rounded-full"><%= pending_inquiries %></span>
        <% end %>
      <% end %>

      <%= link_to "#",
                  class: "flex items-center gap-3 px-3 py-2 rounded-lg text-gray-400 cursor-not-allowed" do %>
        <%= icon "credit-card", variant: :outline, class: "w-5 h-5" %>
        <span>결제 관리</span>
        <span class="text-xs text-gray-600">(준비 중)</span>
      <% end %>
    </div>
  </nav>

  <!-- Help & Support -->
  <div class="px-4 pb-2">
    <%= link_to "#",
                class: "flex items-center gap-3 px-3 py-2 rounded-lg text-gray-400 btn-hover" do %>
      <%= icon "question-mark-circle", variant: :outline, class: "w-5 h-5" %>
      <span>Help & support</span>
    <% end %>

    <%= link_to "#",
                class: "flex items-center gap-3 px-3 py-2 rounded-lg text-gray-400 btn-hover" do %>
      <%= icon "cog-6-tooth", variant: :outline, class: "w-5 h-5" %>
      <span>Settings</span>
    <% end %>
  </div>

  <!-- User Profile -->
  <div class="p-4 border-t border-gray-700">
    <div class="flex items-center gap-3">
      <div class="w-9 h-9 rounded-full bg-gray-600 flex items-center justify-center text-white font-medium">
        <%= current_user&.name&.first&.upcase || "?" %>
      </div>
      <div class="flex-1 min-w-0">
        <p class="text-sm font-medium text-white truncate"><%= current_user&.name %></p>
        <p class="text-xs text-gray-400 truncate"><%= current_user&.email %></p>
      </div>
    </div>
  </div>
</aside>
